(this["webpackJsonptest-bitnic"]=this["webpackJsonptest-bitnic"]||[]).push([[0],{42:function(n,e,t){n.exports=t(55)},51:function(n,e,t){},55:function(n,e,t){"use strict";t.r(e);var r=t(0),o=t.n(r),a=t(21),i=t.n(a),c=t(10),u=t(13),s=t(14),l="NEWS_REQUEST",p="NEWS_FAIL",b="NEWS_SUCCESS";function f(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function d(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?f(t,!0).forEach((function(e){Object(s.a)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):f(t).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var g={articles:[],error:"",isFetching:!1};var m="AUTH_LOGIN",h="AUTH_LOGOUT",v="AUTH_ERROR";function O(n){return"string"==typeof n?JSON.parse(n):n}function y(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function j(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?y(t,!0).forEach((function(e){Object(s.a)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):y(t).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var w={user:"",isLoggedIn:O(localStorage.getItem("isLoggedIn"))||!1,error:""};var x=Object(u.c)({news:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case l:return d({},n,{isFetching:!0,error:""});case b:return d({},n,{isFetching:!1,articles:e.payload});case p:return d({},n,{isFetching:!1,error:e.payload.message});default:return n}},auth:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case m:return j({},n,{isLoggedIn:e.payload.isLoggedIn,user:e.payload.user,error:""});case h:return j({},n,{isLoggedIn:e.payload.isLoggedIn});case v:return j({},n,{error:e.payload.message});default:return n}}}),E=t(34),L=t.n(E),k=t(35),I=Object(u.d)(x,Object(u.a)(k.a,L.a)),S=(t(51),t(2)),z=t(22),P=t(11),C=t(15),D=t(16),F=t(18),N=t(17),T=t(19),U=t(3);function A(){var n=Object(S.a)(["\n  width: 100%;\n  height: 100px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.4rem;\n"]);return A=function(){return n},n}function R(){var n=Object(S.a)(["\n  font-size: 1.8rem;\n"]);return R=function(){return n},n}function _(){var n=Object(S.a)(["\n  display: block;\n  width: 100%;\n"]);return _=function(){return n},n}function W(){var n=Object(S.a)(["\n  font-size: 1.6rem;\n"]);return W=function(){return n},n}function H(){var n=Object(S.a)(["\n  font-size: 2rem;\n"]);return H=function(){return n},n}function X(){var n=Object(S.a)(["\n  width: 50%;\n  padding: 0 12px;\n"]);return X=function(){return n},n}function J(){var n=Object(S.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  width: 100%;\n"]);return J=function(){return n},n}function B(){var n=Object(S.a)(["\n  font-size: 8rem;\n"]);return B=function(){return n},n}function G(){var n=Object(S.a)(["\n  max-width: 1024px;\n  margin: 0 auto;\n"]);return G=function(){return n},n}function q(){var n=Object(S.a)(["\n  color: rgb(33, 150, 243);\n"]);return q=function(){return n},n}function K(){var n=Object(S.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  width: 120px;\n  min-width: 60px;\n  margin: 26px auto 0;\n  padding: 8px 6px;\n  border: none;\n  outline: none;\n  background-color: transparent;\n  vertical-align: middle;\n  text-align: center;\n  font-size: 1.6rem;\n  text-transform: uppercase;\n  cursor: pointer;\n  :hover {\n    background-color: rgba(33, 150, 243, 0.08);\n  }\n"]);return K=function(){return n},n}function M(){var n=Object(S.a)(["\n  width: 100%;\n  height: 100px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return M=function(){return n},n}var Q=U.b.header(M()),$=U.b.button(K()),V=U.b.span(q()),Y=U.b.div(G()),Z=U.b.h1(B()),nn=U.b.section(J()),en=U.b.div(X()),tn=U.b.h2(H()),rn=U.b.p(W()),on=U.b.img(_()),an=U.b.p(R()),cn=U.b.footer(A());var un=function(n){var e=n.articles,t=n.auth,r=n.doLogout;return o.a.createElement("div",null,function(){if(t.isLoggedIn)return o.a.createElement(Q,null,o.a.createElement($,{onClick:r},o.a.createElement(V,null,"Logout")))}(),o.a.createElement(Y,null,o.a.createElement(Z,null,"News"),o.a.createElement(nn,null,e.map((function(n){return o.a.createElement(en,{key:new Date(n.publishedAt).getTime()},o.a.createElement(tn,null,n.title),o.a.createElement(rn,null,n.description),o.a.createElement(on,{src:n.urlToImage,alt:""}),o.a.createElement(an,null,n.content))})))),o.a.createElement(cn,null,"vasyaivanovpv, 2019"))};var sn=t(29),ln=t.n(sn),pn=t(38),bn=function(n){return new Promise((function(e,t){"admin"===n.username&&"12345"===n.password?(localStorage.setItem("isLoggedIn",!0),e(n)):(localStorage.setItem("isLoggedIn",!1),t("Nu such user"))}))},fn=function(){return function(n){localStorage.setItem("isLoggedIn",!1),n({type:h,payload:{isLoggedIn:O(localStorage.getItem("isLoggedIn"))}})}};function dn(){var n=Object(S.a)(["\n  display: block;\n  height: 100px;\n  padding-top: 46px;\n  text-align: center;\n  font-size: 1.8rem;\n"]);return dn=function(){return n},n}var gn=U.b.span(dn()),mn=function(n){function e(){return Object(C.a)(this,e),Object(F.a)(this,Object(N.a)(e).apply(this,arguments))}return Object(T.a)(e,n),Object(D.a)(e,[{key:"componentDidMount",value:function(){(0,this.props.getNews)()}},{key:"render",value:function(){var n=this.props,e=n.articles,t=n.isFetching,r=n.auth,a=n.doLogout;return o.a.createElement(o.a.Fragment,null,t&&o.a.createElement(gn,null,"Loading..."),!t&&0===e.length&&"Epmty",e.length>0&&o.a.createElement(un,{articles:e,auth:r,doLogout:a}))}}]),e}(o.a.Component),hn=Object(c.b)((function(n){return{articles:n.news.articles,isFetching:n.news.isFetching}}),{getNews:function(){return function(n){n({type:l});var e=new Request("https://newsapi.org/v2/top-headlines?sources=bbc-news&apiKey=2effadf8ccc44084b59e9dd869560afd");fetch(e).then((function(n){return n.json()})).then((function(e){"ok"===e.status&&n({type:b,payload:e.articles.slice(0,5)})})).catch((function(e){n({type:p,error:!0,payload:new Error(e)})}))}},doLogout:fn})(mn);function vn(){var n=Object(S.a)(["\n  min-height: 1em;\n  font-family: 'Roboto', 'Helvetica', 'Arial', sans-serif;\n  font-size: 1.3rem;\n  color: rgb(244, 67, 54);\n"]);return vn=function(){return n},n}function On(){var n=Object(S.a)(["\n  color: rgb(33, 150, 243);\n"]);return On=function(){return n},n}function yn(){var n=Object(S.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  width: 120px;\n  min-width: 60px;\n  margin: 26px auto 0;\n  padding: 8px 6px;\n  border: none;\n  outline: none;\n  background-color: transparent;\n  vertical-align: middle;\n  text-align: center;\n  font-size: 1.6rem;\n  text-transform: uppercase;\n  cursor: pointer;\n\n  :hover {\n    background-color: rgba(33, 150, 243, 0.08);\n  }\n"]);return yn=function(){return n},n}function jn(){var n=Object(S.a)(["\n  display: block;\n  width: 100%;\n  min-width: 0;\n  height: 42px;\n  margin-bottom: 20px;\n  padding: 0 12px;\n  border: none;\n  background-color: none;\n  font-size: 2.2rem;\n  :focus {\n    outline: none;\n  }\n"]);return jn=function(){return n},n}function wn(){var n=Object(S.a)(["\n  position: relative;\n  :hover {\n    ::before {\n      border-bottom: 2px solid rgba(0, 0, 0, 0.8);\n    }\n  }\n  :focus-within {\n    ::after {\n      transform: scaleX(1);\n    }\n  }\n  ::after {\n    content: '';\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    transform: scaleX(0);\n    transition: transform 200ms cubic-bezier(0, 0, 0.2, 1) 0ms;\n    border-bottom: 2px solid #1976d2;\n    pointer-events: none;\n  }\n  ::before {\n    content: '\\00a0';\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    transition: border-bottom-color 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n    border-bottom: 1px solid rgba(0, 0, 0, 0.4);\n    pointer-events: none;\n  }\n"],["\n  position: relative;\n  :hover {\n    ::before {\n      border-bottom: 2px solid rgba(0, 0, 0, 0.8);\n    }\n  }\n  :focus-within {\n    ::after {\n      transform: scaleX(1);\n    }\n  }\n  ::after {\n    content: '';\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    transform: scaleX(0);\n    transition: transform 200ms cubic-bezier(0, 0, 0.2, 1) 0ms;\n    border-bottom: 2px solid #1976d2;\n    pointer-events: none;\n  }\n  ::before {\n    content: '\\\\00a0';\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    transition: border-bottom-color 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n    border-bottom: 1px solid rgba(0, 0, 0, 0.4);\n    pointer-events: none;\n  }\n"]);return wn=function(){return n},n}function xn(){var n=Object(S.a)(["\n  display: block;\n  font-size: 1.4rem;\n"]);return xn=function(){return n},n}function En(){var n=Object(S.a)(["\n  max-width: 460px;\n  margin: 90px auto;\n  padding: 44px 65px;\n  background-color: white;\n  border-radius: 3px;\n  box-shadow: 0 1px 1px rgba(97, 127, 152, 0.2), 1px 0 0 rgba(97, 127, 152, 0.1),\n    -1px 0 0 rgba(97, 127, 152, 0.1);\n"]);return En=function(){return n},n}var Ln=U.b.form(En()),kn=U.b.label(xn()),In=U.b.div(wn()),Sn=U.b.input(jn()),zn=U.b.button(yn()),Pn=U.b.span(On()),Cn=U.b.p(vn()),Dn=function(n){function e(){var n,t;Object(C.a)(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=Object(F.a)(this,(n=Object(N.a)(e)).call.apply(n,[this].concat(o)))).state={username:"",password:""},t.handleChange=function(n){var e=n.currentTarget,r=e.id,o=e.value;t.setState(Object(s.a)({},r,o))},t.fakeLogin=function(n){n.preventDefault();var e=t.props,r=e.doLogin,o=e.history,a={username:t.state.username,password:t.state.password};a.username&&a.password||t.setState({isUnknownUser:!0}),r(a,o),t.setState({username:"",password:""})},t}return Object(T.a)(e,n),Object(D.a)(e,[{key:"render",value:function(){var n=this.state,e=n.username,t=n.password,r=this.props.auth;return o.a.createElement("div",null,o.a.createElement(Ln,{onSubmit:this.fakeLogin},o.a.createElement(kn,{htmlFor:"username"},"username"),o.a.createElement(In,null,o.a.createElement(Sn,{type:"text",id:"username",value:e,onChange:this.handleChange})),o.a.createElement(kn,{htmlFor:"password"},"password"),o.a.createElement(In,null,o.a.createElement(Sn,{type:"text",id:"password",value:t,onChange:this.handleChange})),o.a.createElement(Cn,null,r.error&&"\u0412\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"),o.a.createElement(zn,null,o.a.createElement(Pn,null,"Login"))))}}]),e}(o.a.Component),Fn=function(n){function e(){return Object(C.a)(this,e),Object(F.a)(this,Object(N.a)(e).apply(this,arguments))}return Object(T.a)(e,n),Object(D.a)(e,[{key:"render",value:function(){var n=this.props,e=n.doLogin,t=n.doLogout,r=n.history,a=n.auth;return o.a.createElement(Dn,{doLogin:e,doLogout:t,history:r,auth:a})}}]),e}(o.a.Component),Nn=Object(c.b)(null,{doLogin:function(n,e){return function(){var t=Object(pn.a)(ln.a.mark((function t(r){var o;return ln.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,bn(n);case 3:o=t.sent,r({type:m,payload:{user:o,isLoggedIn:O(localStorage.getItem("isLoggedIn"))}}),e.push("/"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),r({type:v,error:!0,payload:new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438")});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(n){return t.apply(this,arguments)}}()},doLogout:fn})(Fn),Tn=t(23),Un=function(n){var e=n.component,t=n.auth,r=Object(Tn.a)(n,["component","auth"]);return o.a.createElement(P.b,Object.assign({},r,{render:function(n){return t.isLoggedIn?o.a.createElement(e,Object.assign({auth:t},n)):o.a.createElement(P.a,{to:{pathname:"/login"}})}}))},An=function(n){var e=n.component,t=n.auth,r=Object(Tn.a)(n,["component","auth"]);return o.a.createElement(P.b,Object.assign({},r,{render:function(n){return t.isLoggedIn?o.a.createElement(P.a,{to:{pathname:"/"}}):o.a.createElement(e,Object.assign({auth:t},n))}}))};function Rn(){var n=Object(S.a)(["\n  * {\n    box-sizing: border-box;\n  }\n  html {\n    font-size: 10px;\n  }\n  body {\n    background-color: rgb(246,246,246);\n  }\n"]);return Rn=function(){return n},n}var _n=Object(U.a)(Rn()),Wn=Object(c.b)((function(n){return{auth:n.auth}}))((function(n){var e=n.auth;return o.a.createElement(z.a,null,o.a.createElement(_n,null),o.a.createElement(P.d,null,o.a.createElement(Un,{exact:!0,path:"/",component:hn,auth:e}),o.a.createElement(An,{exact:!0,path:"/login",component:Nn,auth:e}),o.a.createElement(P.b,{component:function(){return o.a.createElement("div",null,"No such page!")}})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(c.a,{store:I},o.a.createElement(Wn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))}},[[42,1,2]]]);
//# sourceMappingURL=main.e16bb4ae.chunk.js.map